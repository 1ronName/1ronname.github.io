const calculatePercentage=(e,o,t)=>{let r=Math.round(e/(o-t)*100);if(isNaN(r)||r<0||!isFinite(r)){r=0}else if(r>100){r=100}return r};const updateScrollProgressBar=(e,o)=>{if(e?.isHasScrollProgressBar&&e.scrollProgressBar_dom){const t=o.toFixed(3);const r=o===0?"hidden":"visible";e.scrollProgressBar_dom.style.visibility=r;e.scrollProgressBar_dom.style.width=`${t}%`}};const updateScrollPercent=(e,o)=>{if(e?.isHasScrollPercent&&e.backToTopButton_dom){const t=e.backToTopButton_dom.querySelector(".percent");if(!t){return}const r=o!==0&&o!==undefined;e.backToTopButton_dom.classList.toggle("show",r);t.innerHTML=o.toFixed(0)}};const updatePageTopVisibility=(e,o,t)=>{if(!e?.pageTop_dom){return}if(theme.navbar.auto_hide){const r=e.prevScrollValue;const n=r>t&&o>r;e.pageTop_dom.classList.toggle("hide",n)}else{e.pageTop_dom.classList.remove("hide")}};export const updateScrollStyle=e=>{if(!e){return}const o=window.pageYOffset||document.documentElement.scrollTop;const t=document.documentElement.scrollHeight;const r=window.innerHeight||document.documentElement.clientHeight;const n=calculatePercentage(o,t,r);updateScrollProgressBar(e,n);updateScrollPercent(e,n);updatePageTopVisibility(e,o,r);e.prevScrollValue=o};export const updateHomeBannerBlur=e=>{if(!e?.homeBannerBackground_dom){return}if(theme.home_banner.style==="fixed"&&location.pathname===config.root){const o=window.scrollY||window.pageYOffset;const t=o>=e.triggerViewHeight?15:0;try{requestAnimationFrame(()=>{e.homeBannerBackground_dom.style.filter=`blur(${t}px)`;e.homeBannerBackground_dom.style.webkitFilter=`blur(${t}px)`})}catch(e){console.error("Error updating banner blur:",e)}}};