const navbarState={isNavigating:false,navbarHeight:0};let didInit=false;const handleScroll=()=>{if(navbarState.isNavigating){return}const e=document.documentElement.scrollTop||document.body.scrollTop;const t=e>navbarState.navbarHeight;document.body.classList.toggle("navbar-shrink",t)};const handleSubmenuToggle=e=>{const t=e.target.closest("[navbar-data-toggle]");if(!t){return false}const a=document.querySelector(`[data-target="${t.getAttribute("navbar-data-toggle")}"]`);if(!a){return true}const n=a.children;const r=t.querySelector(".fa-chevron-right");const s=!a.classList.contains("hidden");if(r){r.classList.toggle("icon-rotated",!s)}if(typeof anime==="undefined"){a.classList.toggle("hidden",s);return true}if(s){anime({targets:n,opacity:0,translateY:-10,duration:300,easing:"easeInQuart",delay:anime.stagger(80,{start:20,direction:"reverse"}),complete:function(){a.classList.add("hidden")}})}else{a.classList.remove("hidden");anime({targets:n,opacity:[0,1],translateY:[10,0],duration:300,easing:"easeOutQuart",delay:anime.stagger(80,{start:20})})}return true};const handleDrawerClose=e=>{const t=e.target.closest(".navbar-container .navbar-content .logo-title");if(!t){return false}document.body.classList.remove("navbar-drawer-show");return true};const handleDrawerToggle=e=>{const t=e.target.closest(".window-mask, .navbar-bar, .navbar-drawer .drawer-navbar-list .drawer-navbar-item, .navbar-drawer .tag-count-item");if(!t){return false}document.body.classList.toggle("navbar-drawer-show");return true};const registerGlobalHandlers=e=>{if(didInit){return}didInit=true;if(e){window.addEventListener("scroll",handleScroll,{signal:e});document.addEventListener("click",e=>{if(handleSubmenuToggle(e)){return}if(handleDrawerClose(e)){return}handleDrawerToggle(e)},{signal:e})}else{window.addEventListener("scroll",handleScroll);document.addEventListener("click",e=>{if(handleSubmenuToggle(e)){return}if(handleDrawerClose(e)){return}handleDrawerToggle(e)})}};export const navbarShrink={navbarDom:null,initGlobals({signal:e}={}){if(e){registerGlobalHandlers(e);return}registerGlobalHandlers()},refresh(){this.navbarDom=document.querySelector(".navbar-container");if(!this.navbarDom){return}navbarState.navbarHeight=this.navbarDom.getBoundingClientRect().height;handleScroll()},setNavigating(e){navbarState.isNavigating=e;if(e){document.body.classList.remove("navbar-shrink")}}};