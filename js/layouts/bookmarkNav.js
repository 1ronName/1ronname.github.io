let navItems=[];let sections=[];let didInitScroll=false;const throttle=(e,o)=>{let r=false;return(...t)=>{if(r){return}e(...t);r=true;setTimeout(()=>{r=false},o)}};const setActiveNavItem=()=>{if(!navItems.length||!sections.length){return}const r=window.scrollY+100;let n=null;sections.forEach(t=>{const e=t.offsetTop;const o=t.offsetHeight;if(r>=e&&r<e+o){n=t}});navItems.forEach(t=>{t.classList.remove("bg-second-background-color");if(n&&t.getAttribute("data-category")===n.getAttribute("id")){t.classList.add("bg-second-background-color")}})};const registerScrollHandler=t=>{if(didInitScroll||!t){return}didInitScroll=true;window.addEventListener("scroll",throttle(setActiveNavItem,100),{signal:t})};export default function initBookmarkNav({signal:t}={}){navItems=Array.from(document.querySelectorAll(".bookmark-nav-item"));sections=Array.from(document.querySelectorAll("section[id]"));if(!navItems.length||!sections.length){return}registerScrollHandler(t);setActiveNavItem()}