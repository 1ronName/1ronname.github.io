let didInit=false;const toggleStyle=(t,e,l,o)=>{t.style[e]=t.style[e]===l?o:l};const getParentElements=()=>Array.from(document.querySelectorAll(".all-category-list-item")).filter(t=>t.parentElement?.classList.contains("all-category-list"));const resetChildStyles=()=>{const t=getParentElements();t.forEach(t=>{const e=t.querySelectorAll(".all-category-list-child");e.forEach(t=>{t.style.maxHeight="0px";t.style.marginTop="0px"})})};const handleCategoryClick=t=>{const l=t.target.closest(".all-category-list-item");if(!l){return}if(!l.parentElement?.classList.contains("all-category-list")){return}const e=l.querySelectorAll(".all-category-list-child");e.forEach(t=>{toggleStyle(t,"maxHeight","0px","1000px");toggleStyle(t,"marginTop","0px","15px")});const o=getParentElements();const a=l.offsetTop;o.forEach(t=>{if(t.offsetTop===a&&t!==l){const e=t.querySelectorAll(".all-category-list-child");e.forEach(t=>{toggleStyle(t,"maxHeight","0px","1000px");toggleStyle(t,"marginTop","0px","15px")})}})};export default function initCategoryList({signal:t}={}){resetChildStyles();if(didInit){return}didInit=true;if(t){document.addEventListener("click",handleCategoryClick,{signal:t})}else{document.addEventListener("click",handleCategoryClick)}}