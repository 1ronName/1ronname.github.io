let lazyloadObserver=null;const ensureObserver=()=>{if(lazyloadObserver){return}if(typeof IntersectionObserver==="undefined"){return}const e={rootMargin:"0px",threshold:.1};lazyloadObserver=new IntersectionObserver((e,a)=>{e.forEach(e=>{if(!e.isIntersecting){return}const r=e.target;const t=r.getAttribute("data-src");if(t){r.src=t}r.removeAttribute("lazyload");delete r.dataset.redefineLazyloadObserved;a.unobserve(r)})},e)};export default function initLazyLoad(){if(typeof IntersectionObserver==="undefined"){document.querySelectorAll("img[lazyload]").forEach(e=>{const r=e.getAttribute("data-src");if(r){e.src=r}e.removeAttribute("lazyload")});return}ensureObserver();if(!lazyloadObserver){return}document.querySelectorAll("img[lazyload]").forEach(e=>{if(e.dataset.redefineLazyloadObserved){return}e.dataset.redefineLazyloadObserved="true";lazyloadObserver.observe(e)})}