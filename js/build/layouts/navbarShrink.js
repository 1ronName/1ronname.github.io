const t={isNavigating:!1,navbarHeight:0};let a=!1;const handleScroll=()=>{if(t.isNavigating)return;const e=(document.documentElement.scrollTop||document.body.scrollTop)>t.navbarHeight;document.body.classList.toggle("navbar-shrink",e)},handleSubmenuToggle=e=>{const a=e.target.closest("[navbar-data-toggle]");if(!a)return!1;const t=document.querySelector(`[data-target="${a.getAttribute("navbar-data-toggle")}"]`);if(!t)return!0;const n=t.children,r=a.querySelector(".fa-chevron-right"),o=!t.classList.contains("hidden");return r&&r.classList.toggle("icon-rotated",!o),"undefined"==typeof anime?(t.classList.toggle("hidden",o),!0):(o?anime({targets:n,opacity:0,translateY:-10,duration:300,easing:"easeInQuart",delay:anime.stagger(80,{start:20,direction:"reverse"}),complete:function(){t.classList.add("hidden")}}):(t.classList.remove("hidden"),anime({targets:n,opacity:[0,1],translateY:[10,0],duration:300,easing:"easeOutQuart",delay:anime.stagger(80,{start:20})})),!0)},handleDrawerClose=e=>!!e.target.closest(".navbar-container .navbar-content .logo-title")&&(document.body.classList.remove("navbar-drawer-show"),!0),handleDrawerToggle=e=>!!e.target.closest(".window-mask, .navbar-bar, .navbar-drawer .drawer-navbar-list .drawer-navbar-item, .navbar-drawer .tag-count-item")&&(document.body.classList.toggle("navbar-drawer-show"),!0),registerGlobalHandlers=e=>{a||(a=!0,e?(window.addEventListener("scroll",handleScroll,{signal:e}),document.addEventListener("click",e=>{handleSubmenuToggle(e)||handleDrawerClose(e)||handleDrawerToggle(e)},{signal:e})):(window.addEventListener("scroll",handleScroll),document.addEventListener("click",e=>{handleSubmenuToggle(e)||handleDrawerClose(e)||handleDrawerToggle(e)})))};export const navbarShrink={navbarDom:null,initGlobals({signal:e}={}){e?registerGlobalHandlers(e):registerGlobalHandlers()},refresh(){this.navbarDom=document.querySelector(".navbar-container"),this.navbarDom&&(t.navbarHeight=this.navbarDom.getBoundingClientRect().height,handleScroll())},setNavigating(e){t.isNavigating=e,e&&document.body.classList.remove("navbar-shrink")}};