import{updateScrollStyle as o,updateHomeBannerBlur as e}from"./utils/scroll.js";import{initFontSizeAdjust as t,initGoComment as r,initToolsListToggle as l,updateAutoHideTools as n}from"./utils/sideTools.js";import{initHomeBannerHeight as s,initPageHeightHandle as u,relativeTimeInHome as i}from"./utils/layout.js";let c=null,d=!1;const handleScroll=()=>{c&&(c.updateScrollStyle(),c.updateAutoHideTools())},handleHomeBannerBlur=()=>{c&&c.updateHomeBannerBlur()},registerScrollHandlers=e=>{!d&&e&&(d=!0,window.addEventListener("scroll",handleScroll,{signal:e}),window.addEventListener("scroll",((o,t)=>{let l;return(...e)=>{clearTimeout(l),l=setTimeout(()=>o(...e),t)}})(handleHomeBannerBlur,20),{signal:e}))};export const initUtilsGlobals=({signal:e}={})=>{registerScrollHandlers(e)};export const initUtilsPage=({signal:a}={})=>{const d={html_root_dom:document.querySelector("html"),pageTop_dom:document.querySelector(".main-content-header"),homeBanner_dom:document.querySelector(".home-banner-container"),homeBannerBackground_dom:document.querySelector(".home-banner-background"),scrollProgressBar_dom:document.querySelector(".scroll-progress-bar"),backToTopButton_dom:document.querySelector(".tool-scroll-to-top"),toolsList:document.querySelector(".hidden-tools-list"),toggleButton:document.querySelector(".toggle-tools-list"),fontAdjPlus_dom:document.querySelector(".tool-font-adjust-plus"),fontAdMinus_dom:document.querySelector(".tool-font-adjust-minus"),innerHeight:window.innerHeight,prevScrollValue:0,triggerViewHeight:.5*window.innerHeight,isHasScrollProgressBar:!0===theme.global.scroll_progress.bar,isHasScrollPercent:!0===theme.global.scroll_progress.percentage};c={updateScrollStyle:()=>o(d),updateAutoHideTools:n,updateHomeBannerBlur:()=>e(d)},n(),l(d,a),t(d,a),r(a),u(d),s(d),i()};