const wrapElement=(e,t)=>{e.parentNode.insertBefore(t,e);t.appendChild(e)};const initCopyCode=()=>{document.querySelectorAll("figure.highlight").forEach(e=>{if(e.dataset.codeBlockReady||e.parentElement?.classList.contains("highlight-container")){return}e.dataset.codeBlockReady="true";const o=document.createElement("div");o.classList.add("highlight-container");wrapElement(e,o);o.insertAdjacentHTML("beforeend",'<div class="copy-button"><i class="fa-regular fa-copy"></i></div>');o.insertAdjacentHTML("beforeend",'<div class="fold-button"><i class="fa-solid fa-chevron-down"></i></div>');const a=o.querySelector(".copy-button");const t=o.querySelector(".fold-button");a.addEventListener("click",()=>{const e=[...o.querySelectorAll(".code .line")];const t=e.map(e=>e.innerText).join("\n");if(navigator.clipboard?.writeText){navigator.clipboard.writeText(t)}a.querySelector("i").className="fa-regular fa-check";setTimeout(()=>{a.querySelector("i").className="fa-regular fa-copy"},1e3)});t.addEventListener("click",()=>{o.classList.toggle("folded");t.querySelector("i").className=o.classList.contains("folded")?"fa-solid fa-chevron-up":"fa-solid fa-chevron-down"})})};export default initCopyCode;