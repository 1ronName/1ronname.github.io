<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="blog, technical artist, ironname, study"><meta name="description" content="A blog powered by Hexo"><meta name="author" content="铁名_IronName"><script>!function(){function e(e){const t="dark"===e,c=document.documentElement;c.classList.add(e),c.classList.remove(t?"light":"dark"),c.style.colorScheme=e}const t=function(){try{const e=localStorage.getItem("REDEFINE-THEME-STATUS");if(e){const{isDark:t}=JSON.parse(e);return t?"dark":"light"}}catch(e){}return matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}();e(t),matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:t})=>{localStorage.getItem("REDEFINE-THEME-STATUS")||e(t?"dark":"light")}),function(){const e=()=>{const e=document.body;return!!e&&(e.classList.add(t+"-mode"),!0)};if(e())return;const c=new MutationObserver(()=>{e()&&c.disconnect()});c.observe(document.documentElement,{childList:!0,subtree:!0})}()}()</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="https://blog.ironname.top/2026/02/15/笔记08-技术美术百人计划/"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><link rel="icon" type="image/png" href="/pictures/favicon.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/pictures/favicon.png"><meta name="theme-color" content="#8CA8FF"><link rel="shortcut icon" href="/pictures/favicon.png"><title>笔记08 图形 2.3 HLSL常用函数介绍 | IronName | Blog</title><link rel="stylesheet" href="/fonts/Chillax/chillax.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/build/tailwind.css"><link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css"><link rel="stylesheet" href="/fonts/Geist/geist.css"><script id="hexo-configurations">window.config={hostname:"blog.ironname.top",root:"/",language:"zh-CN"},window.theme={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,delete_mask:!1,title_alignment:"left",headings_top_spacing:{h1:"3.2rem",h2:"2.4rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!0,auto:!0,list:["Lv-1"]},code_block:{copy:!0,style:"simple",highlight_theme:{light:"github",dark:"vs2015"},font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:3,number:!1,expand:!0,init_open:!0},copyright:{enable:!0,default:"cc_by_nc_sa"},lazyload:!0,pangu_js:!1,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#8CA8FF",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!1,family:null,url:null},english:{enable:!1,family:null,url:null},title:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!1},scroll_progress:{bar:!1,percentage:!0},website_counter:{url:"https://cn.vercount.one/js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:{enable:!1,custom_message:null},side_tools:{gear_rotation:!0,auto_expand:!1},open_graph:{enable:!1,image:"/images/redefine-og.webp",description:"Hexo Theme Redefine, Redefine Your Hexo Journey."},google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"/pictures/Ada-bright.webp",dark:"/pictures/Ada-dark.webp"},title:"IronName | Blog",subtitle:{text:["学习中...","Living...","Searching...","Waiting..."],hitokoto:{enable:!1,show_author:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#668EFF",dark:"#B5C5CE"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!0,style:"default",links:[{icon:"fa-brands fa-github",url:"https://github.com/1ronName"},{icon:"fa-brands fa-bilibili",url:"https://space.bilibili.com/57447177"},{icon:"fa-regular fa-envelope",url:"w526377yu@qq.com"},{icon:"fa-brands fa-telegram",url:null},{icon:"/images/custom-icon.svg",url:null}],qrs:null}},plugins:{feed:{enable:!1},aplayer:{enable:!1,type:"fixed",audios:[{name:null,artist:null,url:null,cover:null,lrc:null}]},mermaid:{enable:!1,version:"11.4.1",theme:{light:"default",dark:"dark"}}},version:"2.9.0",navbar:{auto_hide:!1,color:{left:"#9BF2E9",right:"#367df7",transparency:35},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-regular fa-house"},Archives:{path:"/archives",icon:"fa-regular fa-archive"},About:{icon:"fa-regular fa-user",path:"/about"}},search:{enable:!1,preload:!0}},page_templates:{friends_column:2,tags_style:"blur",masonry:{batch_size:12,initial_batch_size:24}},home:{sidebar:{enable:!0,position:"left",first_item:"info",announcement:"能到达吗？",show_on_mobile:!0,links:{"标签":{path:"/tags",icon:"fa-regular fa-tags"},"类别":{path:"/categories",icon:"fa-regular fa-folder"}}},article_date_format:"auto",excerpt_length:200,categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footer:{runtime:!0,icon:'<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>',start:"2025/12/27 10:45:55",statistics:!0,customize:null,icp:{enable:!1,number:null,url:null}},footerStart:"2025/12/27 10:45:55",mermaid:{style:{light:"default",dark:"dark"}}},window.lang_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},window.i18n={search:"站内搜索您需要的内容...",toc:"目录",prev:"上一页",next:"下一页",prev_posts:"上一篇",next_posts:"下一篇",page:"第 %d 页",recent_posts:"最新文章",share:"分享",powered_by:"由 %s 驱动",theme:"主题",rss_feed:"RSS Feed",category:"分类",categories:"分类",tag:"标签",tags:"标签",post:"文章",posts:"文章",tagcloud:"标签云",comment:"评论",comments:"评论",top:"置顶",sticky:"置顶","go-back-home":"回到首页",masonry_loading:"照片加载中...",image_viewer:"图片查看器",close:"关闭",exif:{title:"EXIF",cards:{camera:"相机",lens:"镜头",exposure:"曝光",other:"其他"},fields:{make:"品牌",model:"机型",date_taken:"拍摄时间",lens_model:"镜头",focal_length:"焦距",focus_mode:"对焦模式",shutter:"快门",aperture:"光圈",iso:"感光度",exposure_program:"曝光程序",exposure_compensation:"曝光补偿",metering_mode:"测光模式",flash:"闪光灯",white_balance:"白平衡",latitude:"纬度",longitude:"经度",altitude:"海拔"},status:{loading:"加载中...",no_exif:"无 EXIF 信息",library_missing:"EXIF 库未加载",image_source_missing:"图片地址不可用",unavailable:"EXIF 不可用（可能被 CORS 阻止或缺少元数据）",flag_unavailable:"EXIF 不可用"}},home:"首页",archive:"归档",archives:"归档",about:"关于",links:"链接",link:"链接",friends:"友情链接",friend:"友情链接",timeline:"时间轴",shuoshuo:"说说",bookmarks:"书签",site_uv:"访问人数",site_pv:"总访问量",read_more:"阅读全文",wordcount:"字",min2read:"分钟",changelog:"更新日志",status:"状态",runtime:"博客已运行",days:"天",hours:"小时",minutes:"分钟",seconds:"秒",optimized_by:"并由 Evan 进行优化",rights:"版权所有",site_posts:"共撰写了 %s 篇文章",site_wordcount:"共 %s 字",copyright:{title:"标题",author:"作者",link:"链接",create_time:"创建于",update_time:"更新于",license_title:"版权声明",license_content:"本文章采用 %s 进行许可。",all_rights_reserved:"版权所有 &#169 %s，禁止转载。",public_domain:"本文为公有领域作品，可自由转载、引用。"},ago:{second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},create_time:"创建",update_time:"更新",expired:"这篇文章最后更新于 %s 天前，内容可能已经过时。"},window.data={masonry:!1}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha512-fHwaWebuwA7NSF5Qg/af4UeDx9XqUpYpOGgubo3yWu+b2IQR4UeQwbb42Ti7gVAjNtVoI/I9TEoYeu9omwcC6g==" crossorigin="anonymous" referrerpolicy="no-referrer"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="progress-bar-container"><span class="pjax-progress-bar"></span></div><main class="page-container" id="swup"><div class="main-content-container flex flex-col justify-between min-h-dvh"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content transition-navbar"><div class="left"><a class="logo-title" href="/">IronName | Blog</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-regular fa-house fa-fw"></i> 首页</a></li><li class="navbar-item"><a href="/archives"><i class="fa-regular fa-archive fa-fw"></i> 归档</a></li><li class="navbar-item"><a href="/about"><i class="fa-regular fa-user fa-fw"></i> 关于</a></li></ul></div><div class="mobile"><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>首页 </span><i class="fa-regular fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/archives"><span>归档 </span><i class="fa-regular fa-archive fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/about"><span>关于 </span><i class="fa-regular fa-user fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/tags"><span>标签</span> <i class="fa-regular fa-tags fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/categories"><span>类别</span> <i class="fa-regular fa-folder fa-sm fa-fw"></i></a></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">11</div><div class="label text-third-text-color text-sm">标签</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">6</div><div class="label text-third-text-color text-sm">分类</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">41</div><div class="label text-third-text-color text-sm">文章</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body transition-fade-up"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><img src="/pictures/Pasted-image-20260216121512.png" alt="笔记08 图形 2.3 HLSL常用函数介绍" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"><div class="w-full flex items-center absolute bottom-0 justify-start"><h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color">笔记08 图形 2.3 HLSL常用函数介绍</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] shrink-0 rounded-medium border border-border-color p-px"><img src="/pictures/avatar3.png"></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">铁名_IronName</span> <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv4</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class="desktop">2026-02-15 16:52</span> <span class="mobile">2026-02-15 16:52</span> <span class="hover-info">创建</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">2026-02-24 10:13:14</span> <span class="mobile">2026-02-24 10:13:14</span> <span class="hover-info">更新</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>&nbsp;</li><li>></li><li><a href="/categories/%E7%AC%94%E8%AE%B0/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/">百人计划</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href="/tags/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/">百人计划</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fa-regular fa-typewriter"></i>&nbsp;<span>2.5k 字</span> </span><span class="article-min2read article-meta-item"><i class="fa-regular fa-clock"></i>&nbsp;<span>10 分钟</span> </span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><h2 id="图形-2-3-HLSL常用函数介绍"><a href="#图形-2-3-HLSL常用函数介绍" class="headerlink" title="图形 2.3 HLSL常用函数介绍"></a>图形 2.3 HLSL常用函数介绍</h2><p>MSDN中HLSL的常用API： <a class="link" target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/win32/direct3dhlsl/dx-graphics-hlsl-intrinsic-functions">https://docs.microsoft.com/en-us/windows/win32/direct3dhlsl/dx-graphics-hlsl-intrinsic-functions<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p><h2 id="基本数学运算"><a href="#基本数学运算" class="headerlink" title="基本数学运算"></a>基本数学运算</h2><p>图形相关数学函数实时验证：<a class="link" target="_blank" rel="noopener" href="https://graphtoy.com/">https://graphtoy.com<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>max(a,b）</td><td>返回较大的那个</td></tr><tr><td>min(a,b)</td><td>返回较小的那个</td></tr><tr><td>mul(a,b)</td><td>两变量相乘，常用于矩阵运算</td></tr><tr><td>abs(a)</td><td>返回a的绝对值</td></tr><tr><td>round(x)</td><td>返回与x最近的整数</td></tr><tr><td>sqrt(x)</td><td>返回x的平方根</td></tr><tr><td>rsqrt(x)</td><td>返回x的平方根的倒数</td></tr><tr><td>degrees(x)</td><td>将弧度转换成角度</td></tr><tr><td>radians(x)</td><td>将角度转换成弧度</td></tr><tr><td>noise(x)</td><td>噪声函数</td></tr></tbody></table><h2 id="幂指对函数"><a href="#幂指对函数" class="headerlink" title="幂指对函数"></a>幂指对函数</h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>pow(x,y)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>y</mi></msup></mrow><annotation encoding="application/x-tex">x^y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">y</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>exp(x)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mi>x</mi></msup></mrow><annotation encoding="application/x-tex">e^x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>exp2(x)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>x</mi></msup></mrow><annotation encoding="application/x-tex">2^x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>ldexp(x,exp)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∗</mo><msup><mn>2</mn><mrow><mi>e</mi><mi>x</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">x*2^{exp}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4653em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>log(x)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ln</mi><mo>⁡</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\ln x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mop">ln</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">x</span></span></span></span></td></tr><tr><td>log10(x)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>10</mn></msub><mi>x</mi></mrow><annotation encoding="application/x-tex">\log_{10}x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9386em;vertical-align:-.2441em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">x</span></span></span></span></td></tr><tr><td>log2(x)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>x</mi></mrow><annotation encoding="application/x-tex">\log_{2}x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9386em;vertical-align:-.2441em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">x</span></span></span></span></td></tr><tr><td>frexp(x, out exp)</td><td>把浮点数 x 分解成尾数和指数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>r</mi><mi>e</mi><mi>t</mi><mo>∗</mo><msup><mn>2</mn><mrow><mi>e</mi><mi>x</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">x=ret*2^{exp}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6151em"></span><span class="mord mathnormal">re</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span></span>，返回值是尾数，exp参数返回的值是指数</td></tr></tbody></table><h2 id="三角函数与双曲线函数"><a href="#三角函数与双曲线函数" class="headerlink" title="三角函数与双曲线函数"></a>三角函数与双曲线函数</h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>sin(x), cos(x), tan(x)</td><td></td></tr><tr><td>sincos(x, out s, out c)</td><td>返回x的正弦值和余弦值</td></tr><tr><td>tan(y,x)</td><td>返回y&#x2F;x的正切值</td></tr><tr><td>asin(x)</td><td>返回输入值的反正弦值</td></tr><tr><td>acos(x)</td><td>返回输入值反余弦值</td></tr><tr><td>atan(x)</td><td>返回输入值的反正切值</td></tr><tr><td>atan2(y,x)</td><td>返回y&#x2F;x的反正切值</td></tr><tr><td>以上单位为弧度；</td><td></td></tr><tr><td>sinh(x)</td><td>返回x的双曲正弦值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>e</mi><mi>x</mi></msup><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(e^x-e^{-x})/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7713em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/2</span></span></span></span></td></tr><tr><td>cosh(x)</td><td>返回x的双曲余弦值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>e</mi><mi>x</mi></msup><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(e^x+e^{-x})/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7713em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/2</span></span></span></span></td></tr><tr><td>tanh(x)</td><td>返回x的双曲正切值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>e</mi><mi>x</mi></msup><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>e</mi><mi>x</mi></msup><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(e^x-e^{-x})/(e^x+e^{-x})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7713em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7713em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td></tr></tbody></table><h2 id="数据范围类"><a href="#数据范围类" class="headerlink" title="数据范围类"></a>数据范围类</h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>ceil(x)</td><td>返回&gt;&#x3D;x的最小整数</td></tr><tr><td>floor(x)</td><td>返回&lt;&#x3D;x的最大整数</td></tr><tr><td>step(x, y)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>≤</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x\leq y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7719em;vertical-align:-.136em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.625em;vertical-align:-.1944em"></span><span class="mord mathnormal" style="margin-right:.03588em">y</span></span></span></span> 为 1, 否则为 0</td></tr><tr><td>smoothstep(min, max, x)</td><td>若 x 在[min, max]范围内，返回介于 0 和 1 之间的平滑Hermite插值</td></tr><tr><td>saturate(x)</td><td>返回将 x 钳制到 0 和 1 之间的值</td></tr><tr><td>clamp(x, min, max)</td><td>把 x 限制在[min, max]范围内</td></tr><tr><td>fmod(x,y)</td><td>返回x对y取余的余数</td></tr><tr><td>frac(x)</td><td>返回x的小数部分</td></tr><tr><td>modf(x, out ip)</td><td>将值x分为小数和整数部分（各部分符号与x相同）；ip返回整数部分，整体返回小数部分</td></tr><tr><td>lerp(x,y,s)</td><td>按照 s 在 x 到 y 之间插值，即返回 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>s</mi><mo stretchy="false">)</mo><mo>+</mo><mi>y</mi><mo>∗</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">x*(1-s)+y*s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4653em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6597em;vertical-align:-.1944em"></span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">s</span></span></span></span></td></tr></tbody></table><h2 id="类型判断类"><a href="#类型判断类" class="headerlink" title="类型判断类"></a>类型判断类</h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>all(x)</td><td>确定指定量的所有分量是否均为非零，均非零则返回true，否则返回false；(处理由浮点型、整型、布尔型数据定义的标量、向量或者矩阵)</td></tr><tr><td>clip(x)</td><td>如果输入值小于零，则丢弃当前像素。常用于判定范围(不仅仅针对0,返回值为void)；常用于测试alpha，如果每个分量代表到平面的距离，还可以用来模拟剪切平面</td></tr><tr><td>sign(x)</td><td>返回x的正负性如果x小于零返回-1，如果x等于零返回0，如果x大于零返回1</td></tr><tr><td>isinf(x)</td><td>如果x参数为+INF或-INF(无穷+无穷仍无穷，0x3f3f3f3f)，返回true，否则返回 false</td></tr><tr><td>isfinite(x)</td><td>判断x参数是有限，即有界的，与 isinf(x) 相反相反</td></tr><tr><td>isnan(x)</td><td>如果x参数为NAN(非数字)，返回 true，否则返回 false</td></tr></tbody></table><h2 id="向量与矩阵类"><a href="#向量与矩阵类" class="headerlink" title="向量与矩阵类"></a>向量与矩阵类</h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>length(v)</td><td>返回向量的长度</td></tr><tr><td>normalize(v)</td><td>向量归一化，x&#x2F;length(x) 方向向量归一化</td></tr><tr><td>distance(a,b）</td><td>返回两个向量之间的距离，按理说应该为 0，此处表示为根号下各分量之差的平方和</td></tr><tr><td>dot(a,b）</td><td>返回a和b这两个向量的点积(又叫标积&#x2F;内积&#x2F;数量积）<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>⋅</mo><mi>b</mi><mo>=</mo><mi mathvariant="normal">∥</mi><mi>a</mi><mi mathvariant="normal">∥</mi><mi mathvariant="normal">∥</mi><mi>b</mi><mi mathvariant="normal">∥</mi><mo>⋅</mo><mi>cos</mi><mo>⁡</mo><mi>θ</mi></mrow><annotation encoding="application/x-tex">a\cdot b=\|a\| \|b\|\cdot\cos\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4445em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∥</span><span class="mord mathnormal">a</span><span class="mord">∥∥</span><span class="mord mathnormal">b</span><span class="mord">∥</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6944em"></span><span class="mop">cos</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">θ</span></span></span></span></td></tr><tr><td>cross(a,b）</td><td>返回a和b这两个向量的叉积(又叫矢积&#x2F;外积&#x2F;向量积)，返回值是个向量，而且与a、b都垂直，大小上<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∥</mi><mi>a</mi><mo>×</mo><mi>b</mi><mi mathvariant="normal">∥</mi><mo>=</mo><mi mathvariant="normal">∥</mi><mi>a</mi><mi mathvariant="normal">∥</mi><mo>∗</mo><mi mathvariant="normal">∥</mi><mi>b</mi><mi mathvariant="normal">∥</mi><mo>∗</mo><mi>sin</mi><mo>⁡</mo><mi>θ</mi></mrow><annotation encoding="application/x-tex">\|a\times b\|=\|a\|*\|b\|*\sin\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∥</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">b</span><span class="mord">∥</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∥</span><span class="mord mathnormal">a</span><span class="mord">∥</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∥</span><span class="mord mathnormal">b</span><span class="mord">∥</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6944em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">θ</span></span></span></span></td></tr><tr><td>determinant(m）</td><td>返回矩阵m按行列式方式计算的值</td></tr><tr><td>transpose(m）</td><td>返回矩阵m的转置矩阵</td></tr></tbody></table><h2 id="光线运算类"><a href="#光线运算类" class="headerlink" title="光线运算类"></a>光线运算类</h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>reflect(i,n)</td><td>以i为入射向量，n为法线方向的反射光</td></tr><tr><td>refract(i,n,ri)</td><td>以i为入射向量，n为法线方向，ri为折射率的折射光</td></tr><tr><td>lit(n_dot_I,n_dot_h, m)</td><td>输入标量（normal, light, 半角向量h，镜面反射系数m）,返回光照向量 vec4(环境光，漫反射光，镜面高光反射, 1)(Blinn模型)</td></tr><tr><td>faceforward(n,i,ng)</td><td>得到面向视图方向的曲面法向量。输入输出为同元向量，返回-n*sign(dot(i,ng)) (normal,light,normal)</td></tr></tbody></table><h2 id="纹理查找"><a href="#纹理查找" class="headerlink" title="纹理查找"></a>纹理查找</h2><h3 id="函数分类"><a href="#函数分类" class="headerlink" title="函数分类"></a>函数分类</h3><blockquote><p>关于ddx、ddy的介绍：《GPU编程与CG语言之阳春白雪下里巴人》 第 91 页</p></blockquote><h4 id="微分类"><a href="#微分类" class="headerlink" title="微分类"></a>微分类</h4><ul><li>函数 ddx 和 ddy 返回相邻像素的属性差值；</li><li>如果函数 ddx 和 ddy 的输入参数为常数，则函数返回值永远为 0。</li><li>在选择mipmap的level时，会用到偏导数</li></ul><div class="callout callout--simple warning mb-4 rounded-small shadow-redefine-flat bg-(--callout-bg-color) p-3 pl-1 relative flex flex-row gap-2 items-center"><div role="none" class="rounded-full self-stretch w-0.5 bg-(--callout-primary-color) shrink-0 opacity-60"></div><div class="callout__content markdown-body flex-1 min-w-0"><p><strong>避免在条件分支中使用</strong>：<code>ddx</code> 和 <code>ddy</code> 的计算依赖于2x2像素块内的所有像素执行相同的代码。如果它们被放在 <code>if</code> 分支中，导数结果将是未定义的，可能导致画面出现奇怪的条纹或错误。</p></div></div><h4 id="投影类"><a href="#投影类" class="headerlink" title="投影类"></a>投影类</h4><p>将纹理当做一张幻灯片投影到场景中，使用投影纹理技术需要计算投影纹理坐标，然后使用投影纹理坐标进行查询。使用投影纹理坐标进行查询的函数就是投影纹理查询函数。</p><blockquote><p>投影纹理： 《GPU编程与CG语言之阳春白雪下里巴人》 第 137 页</p></blockquote><h4 id="Mipmap类"><a href="#Mipmap类" class="headerlink" title="Mipmap类"></a>Mipmap类</h4><ul><li>lod采样一张mipmap</li><li>bias偏置后再采样 (由t，w决定）</li><li>grad使用微分来选择mip的层，进行采样</li></ul><h3 id="1D纹理查找（几乎不用）"><a href="#1D纹理查找（几乎不用）" class="headerlink" title="1D纹理查找（几乎不用）"></a>1D纹理查找（几乎不用）</h3><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>tex1D(s, t)</td><td>普通一维纹理查找 返回纹理采样器s在标量t位置的color4</td></tr><tr><td>tex1D(s,t,ddx,ddy)</td><td>使用微分查询一维纹理， t和ddxy均为vector</td></tr><tr><td>tex1Dlod(s, t)</td><td>使用LOD查找纹理s在t.w位置的color4</td></tr><tr><td>tex1Dbias(s, t)</td><td>将t.w决定的某个MIP层偏置后的一维纹理查找</td></tr><tr><td>tex1Dgrad(s,t,ddx,ddy)</td><td>使用微分并指定MIP层的一维纹理查找</td></tr><tr><td>tex1Dproj(s, t)</td><td>把纹理当做一张幻灯片投影到场景中，先使用投影纹理技术需要计算出投影纹理坐标t(坐标t.w除以透视值)，然后使用投影纹理坐标进行查询</td></tr></tbody></table><h3 id="2D纹理查找"><a href="#2D纹理查找" class="headerlink" title="2D纹理查找"></a>2D纹理查找</h3><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>tex2D(s, t)</td><td>普通二维纹理查找 返回纹理采样器s在vector t位置的颜色</td></tr><tr><td>tex2D(s,t,ddx,ddy)</td><td>使用微分查询二维纹理，t和ddxy均为vector</td></tr><tr><td>tex2Dlod(s, t)</td><td>使用LOD查找纹理s在t.w位置的color4</td></tr><tr><td>tex2Dbias(s, t)</td><td>将t.w决定的某个MIP层偏置后的二维纹理查找</td></tr><tr><td>tex2Dgrad(s,t,ddx,ddy)</td><td>使用微分并指定MIP层的二维纹理查找</td></tr><tr><td>tex2Dproj(s, t)</td><td>把纹理当做一张幻灯片投影到场景中，先使用投影纹理技术需要计算出投影纹理坐标t(坐标t.w除以透视值)，然后使用投影纹理坐标进行查询</td></tr></tbody></table><h3 id="3D纹理查找"><a href="#3D纹理查找" class="headerlink" title="3D纹理查找"></a>3D纹理查找</h3><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>tex3D(s, t)</td><td>普通三维纹理查找 返回纹理采样器s在vector t位置的颜色</td></tr><tr><td>tex3D(s,t,ddx,ddy)</td><td>使用微分查询三维纹理， t和ddxy均为vector</td></tr><tr><td>tex3Dlod(s, t)</td><td>使用LOD查找纹理s在t.w位置的color4</td></tr><tr><td>tex3Dbias(s, t)</td><td>将t.w决定的某个MIP层偏置后的三维纹理查找</td></tr><tr><td>tex3Dgrad(s,t,ddx,ddy)</td><td>使用微分并指定MIP层的三维纹理查找</td></tr><tr><td>tex3Dproj(s, t)</td><td>把纹理当做一张幻灯片投影到场景中，先使用投影纹理技术需要计算出投影纹理坐标t(坐标t.w除以透视值)，然后使用投影纹理坐标进行查询</td></tr></tbody></table><h3 id="立体纹理查找"><a href="#立体纹理查找" class="headerlink" title="立体纹理查找"></a>立体纹理查找</h3><p>立方体贴图。 <a class="link" target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/win32/direct3d9/cubic-environment-mapping">https://docs.microsoft.com/en-us/windows/win32/direct3d9/cubic-environment-mapping<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>texCUBE(s,t)</td><td>返回纹理采样器s在vector t位置的颜色</td></tr><tr><td>texCUBE(s,t,ddx,ddy)</td><td>使用微分查询立方体维纹理 ，t和ddxy均为vector</td></tr><tr><td>texCUBEDload(s,t)</td><td>使用LOD查找纹理s在t.w位置的color4</td></tr><tr><td>texCUBEbias(s,t)</td><td>将t.w决定的某个MIP层偏置后的立方体纹理查找</td></tr><tr><td>texCUBEgrad(s,t,ddx,ddy)</td><td>使用微分并指定MIP层的立方体纹理查找</td></tr><tr><td>texCUBEproj(s,t)</td><td>使用投影方式的立方体纹理查找</td></tr></tbody></table><h2 id="作业"><a href="#作业" class="headerlink" title="-作业-"></a>-作业-</h2><h3 id="1-写出你觉得最常用的5个函数。"><a href="#1-写出你觉得最常用的5个函数。" class="headerlink" title="1.写出你觉得最常用的5个函数。"></a>1.写出你觉得最常用的5个函数。</h3><p>step, smoothstep, clamp, saturate, normalize</p><h3 id="2-ddx-ddy的实际使用测试。"><a href="#2-ddx-ddy的实际使用测试。" class="headerlink" title="2.ddx, ddy的实际使用测试。"></a>2.ddx, ddy的实际使用测试。</h3><p>屏幕后处理，使用 ddx，ddy 输出法线变化大的像素。<br><img lazyload src="/images/loading.svg" data-src="/pictures/Pasted-image-20260216121512.png"></p><div class="callout callout--titled blue mb-4 rounded-small shadow-redefine-flat bg-(--callout-bg-color) p-3 pl-1 relative flex flex-row gap-2"><div role="none" class="rounded-full self-stretch w-0.5 bg-(--callout-primary-color) shrink-0 opacity-60"></div><div class="flex flex-col gap-2"><div class="callout__title flex items-center gap-2 font-semibold tracking-tight">为什么会有断裂？</div><div class="callout__content markdown-body flex-1 min-w-0"><p><code>ddx</code> 和 <code>ddy</code> 是通过比较当前像素与相邻像素（2×2 块内）的值来计算的。当边缘恰好位于两个物体之间时：</p><ul><li>如果边缘正好穿过 2×2 像素块，那么块内既有前景也有背景像素，导数会非常大（前景法线与背景法线差异大），因此边缘会高亮。</li><li>但如果边缘比较锐利且恰好与像素边界对齐，导致整个 2×2 块都落在同一物体上，那么导数就不会检测到突变。这会产生“断断续续”的高亮，看起来不连续。</li></ul></div></div></div><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag(v2f i) : SV_Target&#123;</span><br><span class="line">	fixed3 normal = DecodeViewNormalStereo(tex2D(_CameraDepthNormalsTexture,i.uv));</span><br><span class="line">	float3 normalView = normal * 0.5 + 0.5;</span><br><span class="line">	</span><br><span class="line">	float3 dx = ddx(normal);</span><br><span class="line">	float3 dy = ddy(normal);</span><br><span class="line"></span><br><span class="line">	// 计算变化率的长度（大小）</span><br><span class="line">	float diffX = length(dx);</span><br><span class="line">	float diffY = length(dy);</span><br><span class="line">	float diff = max(diffX, diffY);   // 取两个方向中最大的变化量</span><br><span class="line"></span><br><span class="line">	// 将变化量映射到颜色（钳制到0-1范围）</span><br><span class="line">	// 为了更容易观察，可以适当缩放，比如乘以一个系数让边缘更亮</span><br><span class="line">	float intensity = saturate(diff * 5.0);  // 系数5可以调整</span><br><span class="line">	intensity = diff;</span><br><span class="line"></span><br><span class="line">	return fixed4(intensity, intensity, intensity, 1.0);</span><br><span class="line">	// return n_col;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><strong>标题:</strong> 笔记08 图形 2.3 HLSL常用函数介绍</li><li><strong>作者:</strong> 铁名_IronName</li><li><strong>创建于 :</strong> 2026-02-15 16:52:00</li><li><strong>更新于 :</strong> 2026-02-24 10:13:14</li><li><strong>链接:</strong> https://blog.ironname.top/2026/02/15/笔记08-技术美术百人计划/</li><li><strong>版权声明: </strong>本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/">#百人计划</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/2026/02/16/%E7%AC%94%E8%AE%B009-%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex justify-center items-center"><span class="post-nav-title-item truncate max-w-48">笔记09 图形 2.4 传统经验光照模型详解 | 【先行】基础渲染光照介绍(一)</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="next" rel="next" href="/2026/02/15/%E7%AC%94%E8%AE%B007-%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/"><span class="title flex justify-center items-center"><span class="post-nav-title-item truncate max-w-48">笔记07 图形 2.2 模型与材质基础</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div><div class="comment-container px-2 sm:px-6 md:px-8 pb-8"><div class="comments-container mt-10 w-full"><div id="comment-anchor" class="w-full h-2.5"></div><div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">评论</div><div class="twikoo-container"><script data-swup-reload-script src="https://cdnjs.cloudflare.com/ajax/libs/twikoo/1.6.10/twikoo.all.min.js"></script><div id="twikoo-comment"></div><script data-swup-reload-script>!function(){const t=location.pathname,o=Date.now(),n=()=>{if(location.pathname!==t)return;const e=document.getElementById("twikoo-comment");e&&"undefined"!=typeof twikoo?(e.innerHTML="",twikoo.init({el:"#twikoo-comment",envId:"https://twikoo-data.ironname.top",path:location.pathname})):Date.now()-o<5e3&&setTimeout(n,200)};n()}()</script></div></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">目录</div><div class="page-title">笔记08 图形 2.3 HLSL常用函数介绍</div><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E5%BD%A2-2-3-HLSL%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="nav-text">图形 2.3 HLSL常用函数介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="nav-text">基本数学运算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B9%82%E6%8C%87%E5%AF%B9%E5%87%BD%E6%95%B0"><span class="nav-text">幂指对函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0%E4%B8%8E%E5%8F%8C%E6%9B%B2%E7%BA%BF%E5%87%BD%E6%95%B0"><span class="nav-text">三角函数与双曲线函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E7%B1%BB"><span class="nav-text">数据范围类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD%E7%B1%BB"><span class="nav-text">类型判断类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%91%E9%87%8F%E4%B8%8E%E7%9F%A9%E9%98%B5%E7%B1%BB"><span class="nav-text">向量与矩阵类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%89%E7%BA%BF%E8%BF%90%E7%AE%97%E7%B1%BB"><span class="nav-text">光线运算类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%B9%E7%90%86%E6%9F%A5%E6%89%BE"><span class="nav-text">纹理查找</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%88%86%E7%B1%BB"><span class="nav-text">函数分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1D%E7%BA%B9%E7%90%86%E6%9F%A5%E6%89%BE%EF%BC%88%E5%87%A0%E4%B9%8E%E4%B8%8D%E7%94%A8%EF%BC%89"><span class="nav-text">1D纹理查找（几乎不用）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2D%E7%BA%B9%E7%90%86%E6%9F%A5%E6%89%BE"><span class="nav-text">2D纹理查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3D%E7%BA%B9%E7%90%86%E6%9F%A5%E6%89%BE"><span class="nav-text">3D纹理查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AB%8B%E4%BD%93%E7%BA%B9%E7%90%86%E6%9F%A5%E6%89%BE"><span class="nav-text">立体纹理查找</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E4%B8%9A"><span class="nav-text">-作业-</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%86%99%E5%87%BA%E4%BD%A0%E8%A7%89%E5%BE%97%E6%9C%80%E5%B8%B8%E7%94%A8%E7%9A%845%E4%B8%AA%E5%87%BD%E6%95%B0%E3%80%82"><span class="nav-text">1.写出你觉得最常用的5个函数。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-ddx-ddy%E7%9A%84%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E6%B5%8B%E8%AF%95%E3%80%82"><span class="nav-text">2.ddx, ddy的实际使用测试。</span></a></li></ol></li></ol></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class="text-center">&copy; <span>2025</span> - 2026&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration:0.5s;color:#f54545"></i>&nbsp;&nbsp;<a href="/">铁名_IronName</a><p class="post-count space-x-0.5"><span>共撰写了 41 篇文章 </span><span>共 76.2k 字</span></p></div><script data-swup-reload-script src="https://cn.vercount.one/js"></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id="busuanzi_container_site_uv" class="lg:!block"><span class="text-sm">访问人数</span> <span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" class="lg:!block"><span class="text-sm">总访问量</span> <span id="busuanzi_value_site_pv"></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"><span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span> <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.9.0</a></span></div><div>博客已运行 <span class="odometer" id="runtime_days"></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script><link rel="stylesheet" href="/css/custom.css"></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li><li class="go-comment"><i class="fa-regular fa-comments"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="image-viewer-container" role="dialog" aria-modal="true" aria-label="图片查看器"><button class="image-viewer-close" type="button" aria-label="关闭"><i class="fa-solid fa-xmark"></i></button> <button class="image-viewer-prev" type="button" aria-label="上一页"><i class="fa-solid fa-chevron-left"></i></button><div class="image-viewer-frame"><img src="" alt=""></div><div class="image-viewer-exif-panel hidden absolute left-1/2 bottom-20 -translate-x-1/2 w-[min(92vw,420px)] max-h-[60vh] overflow-hidden rounded-2xl bg-background-color-transparent-80 p-4 text-left shadow-redefine-flat backdrop-blur-md" role="dialog" aria-label="EXIF" aria-hidden="true"><div class="flex items-center justify-between mb-3"><span class="text-sm font-semibold text-first-text-color">EXIF</span> <button class="image-viewer-exif-close flex h-8 w-8 items-center justify-center rounded-full bg-background-color-transparent-80 text-first-text-color transition hover:bg-background-color-transparent-40" type="button" aria-label="关闭"><i class="fa-solid fa-xmark text-[0.65rem]"></i></button></div><div class="image-viewer-exif-cards grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[50vh] overflow-y-auto pr-1 scrollbar-hide"></div><template class="image-viewer-exif-card-template"><div class="rounded-lg bg-background-color-transparent-40 px-3 py-2"><div class="image-viewer-exif-card-header flex items-center gap-2 mb-1"><i class="image-viewer-exif-card-icon fa-solid fa-circle-info text-xs text-third-text-color"></i><div class="image-viewer-exif-card-title text-xs font-semibold text-first-text-color"></div></div><div class="image-viewer-exif-card-items flex flex-col gap-1"></div></div></template></div><button class="image-viewer-exif-toggle flex items-center gap-2 hidden absolute left-1/2 bottom-6 -translate-x-1/2 rounded-full border border-border-color bg-background-color-transparent-80 px-4 py-2 text-first-text-color backdrop-blur-md transition hover:bg-background-color-transparent-40" type="button" aria-label="EXIF" aria-expanded="false"><i class="fa-solid fa-circle-info text-xs"></i> <span class="text-xs font-semibold uppercase tracking-wider">EXIF</span></button> <button class="image-viewer-next" type="button" aria-label="下一页"><i class="fa-solid fa-chevron-right"></i></button></div></main><script src="/js/build/libs/Swup.min.js"></script><script src="/js/build/libs/SwupSlideTheme.min.js"></script><script src="/js/build/libs/SwupScriptsPlugin.min.js"></script><script src="/js/build/libs/SwupProgressPlugin.min.js"></script><script src="/js/build/libs/SwupScrollPlugin.min.js"></script><script src="/js/build/libs/SwupPreloadPlugin.min.js"></script><script>window.swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]}),window.dispatchEvent(new CustomEvent("redefine:swup:ready",{detail:{swup:window.swup}}))</script><script src="/js/build/main.js" type="module"></script><script src="/js/build/libs/odometer.min.js"></script><link rel="stylesheet" href="/assets/odometer-theme-minimal.css"><script src="/js/build/libs/Typed.min.js"></script><script src="/js/build/libs/moment-with-locales.min.js" data-swup-reload-script=""></script></body></html>